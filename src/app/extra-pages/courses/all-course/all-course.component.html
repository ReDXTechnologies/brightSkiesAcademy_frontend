<!-- portfolio main area start  -->
<section class="content ">
  <app-breadcrumb breadcrumbImage='url(assets/images/user/courses.jpg)' breadcrumbSubTitle1="teacher"
                  breadcrumbSubTitle2="courses"
                  breadcrumbTitle="All Courses"></app-breadcrumb>
  <!-- course-barup-area -->
  <div class="course-bar-up-area pt-50">
    <div class="pl-20">
      <div class="row">
        <div class="col-xl-12">
          <div class="course-main-wrapper mb-30">
            <div class="bar-filter">
              <i class="flaticon-filter"></i>
              <span>Filter</span>
              <span>(5)</span>
            </div>
            <div class="course-sidebar-tab">
              <div class="course-sidebar-wrapper">
                <div class="bar-search p-10">
                  <div class="bar-secrch-icon position-relative">
                    <input type="text" placeholder="Search keyword..." (keyup)="onSearch($event.target.value)">
                    <button type="submit"><i class="fas fa-search"></i></button>
                  </div>
                </div>
                <div class="course-results m-r-120">
                  Showing <span
                  class="course-result-number">{{courses?.length}}</span> results of <span
                  class="course-result-number">{{coursesData?.count}}</span>
                </div>

                <div class="couse-dropdown" *ngIf="role=='Teacher' ||role=='Student_Teacher'">
                  <div class=" pt-3 mr-20">
                    <mat-form-field appearance="outline">
                      <mat-label>My courses</mat-label>

                      <mat-select (selectionChange)="onCourseSelect($event.value)">
                        <mat-option value="pending">my pending courses</mat-option>
                        <mat-option value="available">my available courses</mat-option>

                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  <!-- course-barup-area-end -->

  <div class="pl-20">
    <div class="row mb-10" style="display: flex;">
      <div class="col" style="flex-grow: 2.2;">
        <div class="course-sidebar-widget mb-20">
          <div class="course-sidebar-info" [class.content-hidden]="shopCatActive">
            <h3 class="drop-btn" (click)="shopCat()"><span class="title">Departments </span><i
              class=" fas fa-angle-down "></i></h3>
            <ul>
              <li *ngFor="let department of departments">
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="{{department.id}}"
                         (change)="onSubDepartmentChange($event, department.name)">
                  <label class="edu-check-label" for="{{department.id}}">{{department.name}}</label>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="course-sidebar-widget mb-20">
          <div class="course-sidebar-info" [class.content-hidden]="shopLevelActive">
            <h3 class="drop-btn" (click)="shopLevel()"><span class="title">Price</span><i
              class=" fas fa-angle-down "></i></h3>
            <ul>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="e-free" (click)="onPriceClick('true')"
                         [checked]="price === 'true'">
                  <label class="edu-check-label" for="e-free">Free</label>
                </div>
              </li>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="e-premuim"
                         (click)="onPriceClick('false')" [checked]="price === 'false'">
                  <label class="edu-check-label" for="e-premuim">Premuim</label>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="course-sidebar-widget mb-20">
          <div class="course-sidebar-info" [class.content-hidden]="shopLevelActive">
            <h3 class="drop-btn" (click)="shopLevel()"><span class="title">Level</span><i
              class=" fas fa-angle-down "></i></h3>
            <ul>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="e-entry" (click)="onLevelClick('entry')"
                         [checked]="level === 'entry'">
                  <label class="edu-check-label" for="e-entry">Entry</label>
                </div>
              </li>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="e-intermediate"
                         (click)="onLevelClick('intermediate')" [checked]="level === 'intermediate'">
                  <label class="edu-check-label" for="e-intermediate">Intermediate</label>
                </div>
              </li>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="e-advanced" (click)="onLevelClick('advanced')"
                         [checked]="level === 'advanced'">
                  <label class="edu-check-label" for="e-advanced">Advanced</label>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="course-sidebar-widget mb-20">
          <div class="course-sidebar-info" [class.content-hidden]="shopDurationActive">
            <h3 class="drop-btn" (click)="shopDuration()"><span class="title">Workload</span><i
              class=" fas fa-angle-down "></i></h3>
            <ul>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="w-1-2" (click)="onWorkloadClick('1-2')"
                         [checked]="workload === '1-2'">
                  <label class="edu-check-label" for="w-1-2">1-2 Hours</label>
                </div>
              </li>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="w-2-5" (click)="onWorkloadClick('2-5')"
                         [checked]="workload === '2-5'">
                  <label class="edu-check-label" for="w-2-5">2-5 Hours </label>
                </div>
              </li>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="w-5-10" (click)="onWorkloadClick('5-10')"
                         [checked]="workload === '5-10'">
                  <label class="edu-check-label" for="w-5-10">5-10 Hours </label>
                </div>
              </li>
              <li>
                <div class="course-sidebar-list">
                  <input class="edu-check-box" type="checkbox" id="w-10-20" (click)="onWorkloadClick('10-20')"
                         [checked]="workload === '10-20'">
                  <label class="edu-check-label" for="w-10-20">10-20 Hours </label>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col" style="flex-grow: 9.8;">
        <div class=" course-area  pb-20 pl-10">
          <div class="portfolio-button ">

            <div class="portfolio-course-body">
              <div class="row grid course-main-items">
                <div class="portfolio-course-body mt-3">
                  <div class="row grid course-main-items">
                    <div class="col-xl-4 col-lg-4 col-md-6 grid-item c-1" *ngFor="let course of courses">
                      <div class="eduman-course-main-wrapper mb-80">
                        <div class="course-cart">
                          <div class="course-info-wrapper">
                            <div class="cart-info-body">
                              <span class="category-color category-color-5">{{course.speciality}}</span>
                              <h3>{{course.title}}</h3>
                              <div class="academic-body">
                                <div class="eduman-course-heading cart-lavel">
                                  <h5>Level : <span>{{course.level}}</span></h5>
                                  <div class="eduman-course-price">
                                              <span class="price-now">
                                                {{course.total_enrolled}} enrolled
                                              </span>
                                  </div>
                                </div>
                                <div class="eduman-course-tutor"
                                     *ngFor="let teacher of course.teacherDetails">
                                  <img
                                    [src]="teacher.user.image ? teacher.user.image : 'assets/images/user/profile.jpg'"
                                    class="user-image" alt="">
                                  <!--                                <a [routerLink]="['/instructor-profile']"><span>Saber Feki</span></a>-->
                                  <a
                                    [routerLink]="['/admin/teachers/about-teacher']">{{ teacher.user.firstName }} {{ teacher.user.lastName }}</a>
                                </div>
                              </div>
                              <div class="info-cart-text">
                                <ul>
                                  <li><i class="fas fa-check"></i> Workloads : {{course.workload}} Hours</li>
                                  <li><i class="fas fa-check"></i> Requirements :
                                  </li>
                                  <p>{{course.requirements}}</p>

                                </ul>
                              </div>
                              <div class="course-action">
                                <button (click)="viewDetails(course)" class="view-details-btn align-center">
                                  View
                                  Details
                                </button>
                                <a class="c-share-btn" (click)="deletePendingCourse(course)"
                                   *ngIf="(role === 'Teacher' && course.teachers[0] ===userId)"><i
                                  class="fas fa-trash-alt"></i>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="eduman-course-thumb w-img">
                          <a [routerLink]="['/shared/Lab-course-details']"><img src="{{course.image}}" alt=""></a>
                        </div>
                        <div class="eduman-course-wraper">
                          <div class="eduman-course-heading">
                            <a class="course-link-color-5">{{course.speciality}}</a>
                            <!--                                      <span class="couse-star"><i class="fas fa-star"></i>{{course.rate}}-->
                            <!--                                        ({{course.total_enrolled}} enrolled-->
                            <!--                                        )</span>-->
                          </div>
                          <div class="eduman-course-text">
                            <h3><a [routerLink]="['/shared/Lab-course-details']">{{course.title}}</a>
                            </h3>
                          </div>
                          <div class="eduman-course-meta">
                            <div class="eduman-course-price">
                              <span class="price-now">
                                 <ng-container *ngIf="course.free; else premium">FREE</ng-container>
                                <ng-template #premium>Premium: {{ course.price }} $</ng-template>
                              </span>
                            </div>

                            <div class="eduman-course-tutor" *ngFor="let teacher of course.teacherDetails">
                              <img
                                [src]="teacher.user.image ? teacher.user.image : 'assets/images/user/profile.jpg'"
                                class="user-image" alt="">
                              <!--                                <a [routerLink]="['/instructor-profile']"><span>Saber Feki</span></a>-->
                              <a
                                [routerLink]="['/admin/teachers/about-teacher']">{{ teacher.user.firstName }} {{ teacher.user.lastName }}</a>
                            </div>
                          </div>
                        </div>
                        <div class="eduman-course-footer">
                          <div class="course-lessson-svg">
                            <svg height="16.471" viewBox="0 0 16.471 16.471" width="16.471"
                                 xmlns="http://www.w3.org/2000/svg">
                              <g id="blackboard-13" transform="translate(-0.008)">
                                <path
                                  d="M16,1.222H8.726V.483a.483.483,0,1,0-.965,0v.74H.491A.483.483,0,0,0,.008,1.7V13.517A.483.483,0,0,0,.491,14H5.24L4.23,15.748a.483.483,0,1,0,.836.483L6.354,14H7.761v1.99a.483.483,0,0,0,.965,0V14h1.407l1.288,2.231a.483.483,0,1,0,.836-.483L11.247,14H16a.483.483,0,0,0,.483-.483V1.7A.483.483,0,0,0,16,1.222Zm-.483.965v8.905H.973V2.187Zm0,10.847H.973v-.976H15.514Z"
                                  data-name="Path 101"
                                  fill="#575757"
                                  id="Path_000"/>
                              </g>
                            </svg>
                            <span class="ms-2">{{course.nbr_of_lessons}} Lessons</span>
                          </div>
                          <div class="course-deteals-btn">
                            <a (click)="viewDetails(course)"><span class="me-2">View Details</span>
                              <i class="fas fa-arrow-right"></i></a>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <div class="edu-pagination mt-30 mb-20">
              <ul>
                <li><a (click)="previous_next(coursesData.previous)"><i class="fas fa-angle-left"></i></a></li>
<!--                <li class="active"><a href="#"><span>01</span></a> </li>-->
<!--                <li><a href="#"><span>02</span></a></li>-->
                <li *ngFor="let page of pages" [ngClass]="{ 'active': page === currentPage }">
                  <a (click)="getAllApprovedCoursesPerPage(page)">
                    <span *ngIf="page<10">0{{ page }}</span>
                    <span *ngIf="page>=10">{{ page }}</span>
                  </a>
                </li>
                <li><a (click)="previous_next(coursesData.next)"><i class="fas fa-angle-right"></i></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>





