<section class="content">
  <div class="content-block">
    <div class="block-header mt-5">
    </div>
    <!-- Your content goes here  -->
    <div class="row clearfix">
      <div class="col-lg-4 col-md-12">
        <div class="card">
          <div class="pt-5">
            <div class="contact-grid pt-5">
              <img [src]="teacher?.user?.image ? teacher.user?.image : 'assets/images/user/profile.jpg'" class="user-img" alt="">
              <div class="profile-header">
                <div class="user-name">{{teacher?.user?.firstName}} {{teacher?.user?.lastName}}</div>
                <div class="name-center">{{teacher.degree}}</div>
              </div>


            </div>
          </div>
        </div>

        <div class="card">

          <div class="header">
            <h2>Certifications
              <mat-icon class="example-icon">school</mat-icon>
            </h2>
          </div>
          <div class="tableBody">
            <div class="table-responsive">
              <table class="table ">
                <thead>
                <tr>
                  <th></th>
                  <th>Course Name</th>
                  <th>print</th>
                </tr>
                </thead>
                <tbody>
                <!--                <tr>-->
                <!--                  <td class="table-img">-->
                <!--                    <img src="assets/img/course/ProfileHPC.png" alt="">-->
                <!--                  </td>-->
                <!--                  <td>-->
                <!--                    <div class="media-title"><span> High performance computing fundamentals-->
                <!--                    </span></div>-->
                <!--                  </td>-->
                <!--                  <td>-->
                <!--                    <a href="#">-->
                <!--  <span class="msr-3 align-self-center certif-icon danger-rgba text-danger">-->
                <!--    <i class="far fa-file-pdf"></i>-->
                <!--  </span>-->
                <!--                    </a></td>-->
                <!--                </tr>-->

                </tbody>
              </table>
            </div>
          </div>


        </div>

      </div>
      <div class="col-lg-8 col-md-12">
        <div class="card">
          <mat-tab-group>
            <mat-tab>
              <ng-template mat-tab-label>
                <mat-icon class="example-tab-icon msr-2">face</mat-icon>
                About Me
              </ng-template>
              <div class="col-lg-12 col-md-12 col-sm-12 p-5">
                <div class="course-detelies-wrapper">
                  <div class="course-detiles-tittle mb-30">
                    <h3>{{teacher?.user?.firstName}} {{teacher?.user?.lastName}}</h3>
                    <span>{{teacher.degree}}</span>
                  </div>
                  <div class="course-detiles-meta">

                    <div class="">
                      <h5>Department</h5>
                      <span>{{teacher.sub_department}}</span>
                    </div>
                    <div class="">
                      <h5>N+1 manager</h5>
                      <span>{{firstmanager}}</span>
                    </div>
                    <div class="">
                      <h5>N+2 manager</h5>
                      <span>{{secondmanager}}</span>
                    </div>
                    <div class="">
                      <h5>Email</h5>
                      <span>{{teacher?.user?.email}}</span>
                    </div>
                    <div class="">
                      <h5>Phone</h5>
                      <span> {{teacher?.user?.mobile_phone}}</span>
                    </div>
                    <div class="">
                      <h5>Lectures</h5>
                      <span>{{teacher?.nb_of_courses}} approved</span>
                    </div>
                  </div>
                  <div class="course-bio-text pt-45 pb-20" *ngIf="role==='Student_Teacher'">
                    <h3>Skills</h3>
                    <p>{{teacher.skills}}</p>
                  </div>
                  <div class="course-bio-text pt-45 pb-20">
                    <h3>Biography</h3>
                    <p>{{teacher.biography}}</p>
                  </div>

                  <div class="header mt-4">
                    <h2>Enrolled in courses List</h2>
                  </div>
                  <div class="tableBody">
                    <div class="table-responsive">
                      <table class="table table-hover">
                        <thead>
                        <tr>
                          <th></th>
                          <th>Course Name</th>
                          <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let course of courses"  (click)="viewDetails(course)" style="cursor: pointer">
                          <td class="table-img">
                            <img src="{{course.image}}" alt="">
                          </td>
                          <td>
                            <div class="media-title"><span> {{course.title}}
                    </span></div>
                          </td>
                          <td>
                            <div class="badge badge-solid-red">in progress</div>
                          </td>
                        </tr>
                        <!--                        <tr>-->
                        <!--                          <td class="table-img">-->
                        <!--                            <img src="assets/img/course/ProfileOpenMP.png" alt="">-->
                        <!--                          </td>-->
                        <!--                          <td>-->
                        <!--                            <div class="media-title"><span> High performance computing OpenMP-->
                        <!--                    </span></div>-->
                        <!--                          </td>-->
                        <!--                          <td>-->
                        <!--                            <div class="badge badge-solid-red">in progress</div>-->
                        <!--                          </td>-->
                        <!--                        </tr>-->
                        <!--                        <tr>-->
                        <!--                          <td class="table-img">-->
                        <!--                            <img src="assets/img/course/ProfileOpenACC.png" alt="">-->
                        <!--                          </td>-->
                        <!--                          <td>-->
                        <!--                            <div class="media-title"><span> High performance computing OpenAcc-->
                        <!--                    </span></div>-->
                        <!--                          </td>-->
                        <!--                          <td>-->
                        <!--                            <div class="badge badge-solid-red">in progress</div>-->
                        <!--                          </td>-->
                        <!--                        </tr>-->
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="header mt-4">
                    <h2>My courses List</h2>
                    <button mat-icon-button [matMenuTriggerFor]="menu" class="header-dropdown">
                      <mat-icon>more_vert</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                      <button mat-menu-item disabled>
                        <mat-icon>delete_outline</mat-icon>
                        <span>Delete</span>
                      </button>
                      <button mat-menu-item>
                        <mat-icon>refresh</mat-icon>
                        <span>Refresh</span>
                      </button>
                    </mat-menu>
                  </div>
                  <div class="tableBody">
                    <div class="table-responsive">
                      <table class="table table-hover">
                        <thead>
                        <tr>
                          <th></th>
                          <th>Course Name</th>
                          <th>Students Enrolled in</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let course of teacherApprovedCourses">
                          <td class="table-img">
                            <img src="{{course.image}}" alt="">
                          </td>
                          <td>
                            <div class="media-title"><span> {{course.title}}
                    </span></div>
                          </td>
                          <td>
                            <span class="font-bold">{{course.total_enrolled}}</span>
                          </td>
                        </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

              </div>
            </mat-tab>
            <mat-tab label="Profile Picture">
              <ng-template mat-tab-label>
                <mat-icon class="example-tab-icon msr-2">camera</mat-icon>
                upload pictures
              </ng-template>
              <form [formGroup]="teacherForm">
                <div class="mb-16 mt-16 p-5">
                  <label>Upload profile photo</label>
                  <app-file-upload fileType="upload image"
                                   [loading]="loading"
                                   [onClickFunction]="updateProfilePicture.bind(this, teacher?.user?.id)" (change)="onImageSelected($event)" formControlName="image"></app-file-upload>
                </div>
              </form>

            </mat-tab>

            <mat-tab>
              <ng-template mat-tab-label>
                <mat-icon class="example-tab-icon msr-2">settings</mat-icon>
                Settings
              </ng-template>
              <div class="header">
                <h2>
                  <strong>Account</strong> Settings</h2>
              </div>
              <div class="body">
                <form [formGroup]="teacherForm">
                  <div class="row ">
                    <div class="col-lg-6 col-md-12">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>First Name</mat-label>
                        <input matInput formControlName="firstName" >
                      </mat-form-field>
                    </div>
                    <div class="col-lg-6 col-md-12">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Last Name</mat-label>
                        <input matInput formControlName="lastName" >
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row ">
                    <div class="col-lg-6 col-md-12">
                      <div class="form-group">
                        <mat-form-field class="example-full-width" appearance="fill">
                          <mat-label>Degree</mat-label>
                          <input matInput formControlName="degree">
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="col-lg-6 col-md-12">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Mobile Phone</mat-label>
                        <span matPrefix>
            <mat-icon class="msr-2">phone</mat-icon>
          </span>
                        <input matInput formControlName="mobile_phone"  />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                      <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Biography</mat-label>
                        <textarea matInput formControlName="biography"></textarea>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-md-12">
                    <button mat-raised-button color="primary" (click)="updateTeacherProfile(teacher?.user?.id)" [disabled]="teacherForm.invalid">Save Changes</button>
                  </div>
                </form>
              </div>

            </mat-tab>
        </mat-tab-group>
      </div>
    </div>
  </div>
  </div>
</section>
